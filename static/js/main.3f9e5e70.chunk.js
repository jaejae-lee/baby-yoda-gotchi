(this["webpackJsonpbaby-yoda"]=this["webpackJsonpbaby-yoda"]||[]).push([[0],{117:function(e,t,a){e.exports=a.p+"static/media/yodaNoise.3fa8d3cb.mp3"},120:function(e,t,a){e.exports=a(312)},125:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(45),l=a.n(o),c=(a(125),a(12)),i=function(){return r.a.createElement("header",{className:"page-header p-5"},r.a.createElement("h1",null,"Baby-Yoda-Gotchi"))},s=a(23),u=a(24),d=a(26),m=a(25),h=a(15),f=a(27),b=a(313),p=a(314),E=a(113),v=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={name:e.name,color:e.color,colorPickError:!1,namePickError:!1},a.handleChangeName=a.handleChangeName.bind(Object(h.a)(a)),a.handleChangeColor=a.handleChangeColor.bind(Object(h.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(h.a)(a)),a.handleFindYoda=a.handleFindYoda.bind(Object(h.a)(a)),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleChangeName",value:function(e){this.setState({name:e.currentTarget.value})}},{key:"handleChangeColor",value:function(e){this.setState({color:e.hex})}},{key:"handleSubmit",value:function(e){e.preventDefault(),""!==this.state.name&&this.setState({namePickError:!1}),""!==this.state.color&&this.setState({colorPickError:!1}),""===this.state.name&&this.setState({namePickError:!0}),""===this.state.color?this.setState({colorPickError:!0}):(this.props.createYoda(this.state),this.setState({name:"",colour:""}))}},{key:"handleFindYoda",value:function(){(0,this.props.findYoda)(this.state.name),this.setState({name:""})}},{key:"render",value:function(){var e=this.props.errors;return r.a.createElement(b.a,{className:"container p-5",onSubmit:this.handleSubmit},r.a.createElement(b.a.Group,{className:"row justify-content-center mb-5"},r.a.createElement(b.a.Label,{className:"col-12"},r.a.createElement("p",null,"Name:")),r.a.createElement(b.a.Control,{type:"text",className:"col-8 bg-dark text-warning",value:this.state.name,onChange:this.handleChangeName}),r.a.createElement("p",null,e[e.length-1])),r.a.createElement("p",{style:{display:this.state.namePickError?"block":"none"}},"Please pick a name!"),r.a.createElement(b.a.Group,{className:"row justify-content-center mb-5"},r.a.createElement(b.a.Label,{className:"col-12"},r.a.createElement("p",null,"Colour:")),r.a.createElement(E.CirclePicker,{className:"col-8 justify-content-center picker",color:this.state.color,onChangeComplete:this.handleChangeColor})),r.a.createElement("p",{style:{display:this.state.colorPickError?"block":"none"}},"Please pick a colour!"),r.a.createElement(p.a,{type:"submit",className:"m-1",variant:"outline-warning"},"CREATE YODA"),r.a.createElement(p.a,{onClick:this.handleFindYoda,className:"m-1",variant:"outline-warning"},"FIND MY YODA"))}}]),t}(n.Component),y=a(115),g=a.n(y).a.create({baseURL:"https://yoda.developme.space/api/baby_yoda",headers:{Accept:"application/json"}}),O=function(e){return console.log(e),{type:"createError",error:e}},k=Object(c.b)((function(e){return{name:e.name,color:e.color,errors:e.errors}}),(function(e){return{createYoda:function(t){return e(function(e){return function(t){g.post("",{name:e.name,colour:e.color}).then((function(e){var a=e.data;a.error?t(O(a.error)):t(function(e){return{type:"createYoda",settings:e}}(a.data))}))}}(t))},findYoda:function(t){return e(function(e){return function(t){g.get("/find/".concat(e)).then((function(e){var a=e.data;a.error?t(O(a.error)):t(function(e){return{type:"loadYoda",id:e.data.id,name:e.data.name,color:e.data.colour,dob:e.data.dob,last_fed:e.data.latest_feed}}(a))}))}}(t))}}}))(v),C=function(){return r.a.createElement("footer",{className:"page-footer"},r.a.createElement("p",null," Created by Team Can-do-lorians 2019.",r.a.createElement("br",null)," All rights to Star Wars and the 'Baby Yoda' character owned by Disney.",r.a.createElement("br",null)," Character facial animation based on ",r.a.createElement("a",{href:"https://codepen.io/shshaw/pen/QWwyaNR"},"CSS animation "),"by Shaw."))},j=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement(k,null),r.a.createElement(C,null))},N=Object(c.b)((function(e){return{submitted:e.submitted}}))(j),_=a(315),w=(a(311),a(116)),S=a.n(w),Y=a(117),M=a.n(Y),A=new S.a(M.a),D=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).intervalHealth=0,a.intervalAge=0,a.handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.intervalAge=setInterval((function(){return e.props.updateAge()}),1e3),this.intervalHealth=setInterval((function(){return e.props.updateHealth()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.intervalHealth),clearInterval(this.intervalAge)}},{key:"handleClick",value:function(){A.setVolume(1).play(),this.props.feedClick()}},{key:"render",value:function(){var e=this.props,t=e.name,a=e.color,n=e.age,o=e.health,l=n,c=Math.floor(l/86400);l-=3600*c*24;var i=Math.floor(l/3600);l-=3600*i;var s=Math.floor(l/60),u=c+" days, "+i+" hrs, "+s+" minutes, "+(l-=60*s)+" seconds";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"content"},r.a.createElement("h1",null,"Baby ",t),r.a.createElement("div",{className:"gamebox"},r.a.createElement("div",{className:"baby-yoda",style:{backgroundColor:a,borderTopColor:a}}),r.a.createElement("div",{className:"robe"},r.a.createElement("div",{className:"handOne",style:{backgroundColor:a}}),r.a.createElement("div",{className:"handTwo",style:{backgroundColor:a}}),r.a.createElement("div",{className:"cup"}))),r.a.createElement("div",{className:"game-controls"},r.a.createElement("h3",null,"Age: ",u)),r.a.createElement("div",{className:"game-controls"},r.a.createElement("p",null,"Health: ",o,"%"),r.a.createElement(_.a,{className:"m-3",variant:"danger",animated:!0,now:o}),r.a.createElement(p.a,{className:"m-3 buttonFeed",variant:"outline-warning",onClick:this.handleClick},"Feed Baby ",t))))}}]),t}(n.Component),F=Object(c.b)((function(e){return{name:e.name,color:e.color,age:e.age,health:e.health,alive:e.alive}}),(function(e){return{feedClick:function(){return e((function(e,t){var a=t().yoda_id;g.post("/".concat(a,"/feed")).then((function(t){var a=t.data;e(function(e){return{type:"feedYoda",feed_data:e.data.fed_at}}(a))}))}))},updateAge:function(){return e({type:"updateAge",time:Math.floor(Date.now()/1e3)})},updateHealth:function(){return e({type:"updateHealth"})}}}))(D),P=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(F,null),r.a.createElement(C,null))},x=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleClick=a.handleClick.bind(Object(h.a)(a)),a}return Object(f.a)(t,e),Object(u.a)(t,[{key:"handleClick",value:function(){this.props.deleteAndReset()}},{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:"gameOver"},r.a.createElement("h1",{className:"text-warning death-text"}," Baby ",e," has gone to a galaxy far, far away...."),r.a.createElement(p.a,{onClick:this.handleClick,className:"mt-5 p-3",variant:"outline-warning"},"Return ",e," to the Force"))}}]),t}(n.Component),H=Object(c.b)((function(e){return{name:e.name}}),(function(e){return{deleteAndReset:function(){return e((function(e,t){var a=t().yoda_id;g.delete("/".concat(a)).then((function(){e({type:"resetGame"})}))}))}}}))(x),I=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(H,null),r.a.createElement(C,null))},R=function(e){var t=e.submitted,a=e.alive;return r.a.createElement(r.a.Fragment,null,t?a?r.a.createElement(P,null):r.a.createElement(I,null):r.a.createElement(N,null))},T=Object(c.b)((function(e){return{submitted:e.submitted,alive:e.alive}}),null)(R),B=a(28),G=a(118),L={name:"",color:"",age:0,health:0,submitted:!1,yoda_id:0,last_fed:0,dob:0,alive:!0,errors:[]},U=a(119),W=a(18),J=function(e){return Object(W.a)({},e,{health:100-Math.floor((Math.floor(Date.now()/1e3)-e.last_fed)/480),alive:!(e.health<=0)})},V=function(e,t){switch(t.type){case"createYoda":return function(e,t){return Object(W.a)({},e,{name:t.settings.name,color:t.settings.colour,submitted:!0,yoda_id:t.settings.id,dob:t.settings.dob,last_fed:Math.floor(Date.now()/1e3),health:100})}(e,t);case"feedYoda":return J(function(e,t){return Object(W.a)({},e,{last_fed:t.feed_data,health:100})}(e,t));case"updateAge":return function(e,t){return Object(W.a)({},e,{age:t.time-e.dob})}(e,t);case"updateHealth":return J(e);case"createError":return function(e,t){return Object(W.a)({},e,{errors:[].concat(Object(U.a)(e.errors),[t.error])})}(e,t);case"loadYoda":return function(e,t){return 100-Math.floor((Math.floor(Date.now()/1e3)-(t.last_fed>0?t.last_fed:t.dob))/480)<0?Object(W.a)({},e,{alive:!1,submitted:!0,yoda_id:t.id,name:t.name}):Object(W.a)({},e,{yoda_id:t.id,name:t.name,color:t.color,submitted:!0,dob:t.dob,last_fed:t.last_fed>0?t.last_fed:t.dob,health:100-Math.floor((Math.floor(Date.now()/1e3)-(t.last_fed>0?t.last_fed:t.dob))/480),age:Math.floor(Math.floor(Date.now()/1e3)-t.dob)})}(e,t);case"resetGame":return a=L,Object(W.a)({},a);default:return e}var a},X=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||B.c,Q=Object(B.d)(V,L,X(Object(B.a)(G.a)));l.a.render(r.a.createElement(c.a,{store:Q},r.a.createElement(T,null)),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.3f9e5e70.chunk.js.map